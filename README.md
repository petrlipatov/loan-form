# SPA для подачи заявки на заём

## О проекте

Это одностраничное приложение (SPA), разработанное в качестве тестового задания.

## Реализованный функционал

- ✅ **Трехшаговая форма**: Реализована форма с тремя последовательными шагами для сбора данных. Данные полей всех шагов формы хранятся в едином локальном состоянии react-hook-form.
- ✅ **Маршрутизация**: Навигация между шагами формы реализована с помощью `react-router-dom`. Навигация по шагам формы осуществляется через параметры URL.
- ✅ **Валидация форм**: Все поля формы валидируются в реальном времени с помощью `react-hook-form` и `zod`.
- ✅ **Интеграция с API**:
  - Осуществляется получение списка мест работы с `dummyjson.com`.
  - Данные формы отправляются на тестовый сервер `dummyjson.com`.
- ✅ **Модальное окно**: После успешной отправки формы отображается модальное окно с данными пользователя.
- ✅ **Сохранение состояния**: Данные, введенные в форму, сохраняются при переключении между шагами.
- ✅ **Персистентность данных**: Данные формы сохраняются в `localStorage`, что позволяет пользователю продолжить заполнение после перезагрузки страницы.
- ✅ **Защита маршрутов формы**: Реализована проверка доступа пользователя к каждому шагу формы. В случае попытки перехода на недоступный шаг, пользователь автоматически перенаправляется на ближайший разрешенный шаг, обеспечивая целостность процесса заполнения формы.
- ✅ **Переиспользуемые данные и кэширование**: Логика получения списка мест работы вынесена в отдельную сущность и доступна через кастомный хук, что позволяет легко переиспользовать эти данные в разных частях приложения. Для оптимизации производительности используется react-query, который кэширует запросы и дает гибкий контроль над временем жизни кэша.
- ✅ **Адаптивный дизайн**: Интерфейс адаптирован для различных размеров экрана.
- ✅ **Темная тема**: Реализована возможность переключения между светлой и темной темами.

## Структура проекта

Проект разработан в соответствии с методологией **Feature-Sliced Design (FSD)**, что обеспечивает высокую модульность и масштабируемость.

```
src/
├── app/             # Глобальные настройки, стили, провайдеры и маршрутизация
│   ├── layout/      # Основной макет приложения
│   └── router/      # Конфигурация маршрутизации
├── pages/           # Страницы приложения (HomePage, LoanFormPage)
├── widgets/         # Сложные, самостоятельные блоки UI (например, виджет формы, навигация)
│   ├── loan-form/   # Виджет, который управляет всей логикой формы
│   └── navigation/  # Навигационная панель с переключением темы
├── features/        # Бизнес-логика и функциональность (например, шаги формы)
│   └── loan-form/   # Функциональность, связанная с формой займа (шаги, поля)
├── entities/        # Бизнес-сущности и их модели (loan, workplace)
│   ├── loan/        # Модель данных, схемы валидации и API для займа
│   └── workplace/   # Модель данных и API для места работы
└── shared/          # Переиспользуемый код, не зависящий от бизнес-логики
    ├── api/         # Конфигурация инстанса Axios
    ├── hooks/       # Глобальные React-хуки (useTheme, useFormPersistence)
    ├── lib/         # Вспомогательные утилиты (cn, debounce)
    ├── providers/   # Глобальные провайдеры контекста (ThemeProvider)
    └── ui/          # Базовые UI-компоненты (Button, Input, Card, и т.д.)
```

## Обоснование выбора технологий

- **React Hook Form**: Выбрана для управления формами из-за ее высокой производительности (минимизация перерисовок), простоты интеграции и мощного API для работы с валидацией.
- **Zod**: Используется в связке с `react-hook-form` для строгой типизированной валидации схем данных. Это позволяет описывать правила валидации в декларативном стиле и обеспечивает безопасность типов.
- **React Query**: Применяется для управления состоянием сервера (запросы к API). Библиотека предоставляет мощные механизмы для кэширования, фонового обновления и синхронизации данных, что значительно упрощает работу с асинхронными операциями.
- **shadcn/ui**: Используется для создания UI-компонентов в `shared/ui`. Это не библиотека компонентов, а коллекция переиспользуемых компонентов, построенных на основе Radix UI и Tailwind CSS. Такой подход позволяет полностью контролировать код компонентов и настраивать их под нужды проекта, сохраняя при этом все преимущества «headless» подхода (доступность, управляемость).
- **Tailwind CSS**: Утилитарный CSS-фреймворк, который ускоряет процесс стилизации и позволяет создавать консистентный дизайн без написания большого количества кастомного CSS.

## Начало работы

### Требования

- Node.js (v18 или выше)
- npm

### Установка и запуск

1.  Клонируйте репозиторий:
    ```sh
    git clone git@github.com:petrlipatov/loan-form.git
    ```
2.  Установите зависимости:
    ```sh
    npm install
    ```
3.  Запустите проект в режиме разработки:
    `sh
npm run dev
`
    Приложение будет доступно по адресу `http://localhost:5173`.

## Затраченное время

- **Время на выполнение задания:** 8 часов
